<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <!-- Meta tags e configurações básicas -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Animu</title>

  <!-- Importa fontes e estilos -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <link rel="stylesheet" href="src/css/animu.css">
  <link rel="stylesheet" href="src/css/index.css">
  <link rel="stylesheet" href="src/css/animes.css">
  <link rel="stylesheet" href="src/css/news.css">
  <link rel="stylesheet" href="src/css/navbar.css">
  <link rel="icon" href="src/data/images/favicon/favicon.ico" type="image/x-icon">
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
</head>

<body>
  <div class="parallax-container">
    <!-- Seção de cabeçalho com efeito parallax -->
    <section class="parallax-section">
      <div class="container mx-auto px-4 py-6 md:py-8 max-w-6xl">
        <div class="parallax-content">
          <header class="index-header">
            <h1 class="index-title anime-gradient text-4xl md:text-5xl lg:text-6xl">Animu</h1>
            <p class="index-description text-white text-sm md:text-base lg:text-lg max-w-3xl mx-auto">
              Descubra universos infinitos, explore narrativas épicas e mergulhe nas histórias mais fascinantes do mundo
              dos animes.
            </p>
          </header>
        </div>
      </div>
    </section>

    <div class="container mx-auto px-4 max-w-6xl text-center">
      <div class="section-wrapper">
        <div class="index-sections grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <!-- Card: Reviews recentes -->
          <div class="index-card">
            <div class="index-card-header gradient-purple"></div>
            <h2 class="index-card-title text-xl md:text-2xl">Últimos Reviews</h2>
            <ul id="latest-reviews" class="index-card-list mt-4">
              <!-- Preenchido via JS -->
            </ul>
          </div>

          <!-- Card: Categorias populares -->
          <div class="index-card">
            <div class="index-card-header gradient-green"></div>
            <h2 class="index-card-title text-xl md:text-2xl">Categorias Populares</h2>
            <ul id="popular-categories" class="index-card-list mt-4">
              <!-- Preenchido via JS -->
            </ul>
          </div>

          <!-- Card: Novidades e lançamentos -->
          <div class="index-card md:col-span-2 lg:col-span-1">
            <div class="index-card-header gradient-pink"></div>
            <h2 class="index-card-title text-xl md:text-2xl">Novidades</h2>
            <ul class="index-card-list mt-4">
              <li class="index-card-item">
                <a href="animes.html?status=Anunciado" class="index-card-link">
                  <span class="index-card-link-title">Próximos Lançamentos</span>
                  <p class="index-card-link-subtitle">Animes que vão estrear</p>
                </a>
              </li>
              <li class="index-card-item">
                <a href="" id="current-season-link" class="index-card-link">
                  <span class="index-card-link-title">Melhores da Temporada</span>
                  <p class="index-card-link-subtitle" id="current-season-text">Top animes do momento</p>
                </a>
              </li>
              <li class="index-card-item">
                <a href="recommendation.html" class="index-card-link">
                  <span class="index-card-link-title">Recomendações</span>
                  <p class="index-card-link-subtitle">Seleção especial</p>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Seção de carrosséis de animes -->
    <section class="parallax-section">
      <div class="container mx-auto px-4 max-w-6xl">
        <div class="parallax-content">
          <h2 class="section-title text-2xl md:text-3xl lg:text-4xl my-4 md:my-6">Animes em Destaque</h2>
        </div>
        <div class="swiper-container featured-swiper">
          <div class="swiper-wrapper">
            <!-- Carrossel preenchido via JS -->
          </div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-pagination featured-pagination"></div>
        </div>

        <div class="parallax-content">
          <h2 class="section-title text-2xl md:text-3xl lg:text-4xl my-4 md:my-6">Animes da Temporada</h2>
        </div>
        <div class="swiper-container seasonal-swiper">
          <div class="swiper-wrapper">
            <!-- Carrossel preenchido via JS -->
          </div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-pagination seasonal-pagination"></div>
        </div>
      </div>
    </section>

    <!-- Seção de fórum -->
    <div class="container mx-auto px-4 max-w-6xl">
      <section class="section-wrapper">
        <div class="forum-container">
          <h2 class="section-title text-2xl md:text-3xl lg:text-4xl">Fórum da Comunidade</h2>
          <div class="flex justify-center items-center mb-6 md:mb-8">
            <button id="new-topic-btn" class="btn btn-primary group px-4 py-2 md:px-6 md:py-3">
              <span class="flex items-center gap-2">
                <svg class="w-4 h-4 md:w-5 md:h-5 transition-transform group-hover:rotate-90 duration-300" fill="none"
                  viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                </svg>
                <span class="text-sm md:text-base">Nova Discussão</span>
              </span>
            </button>
          </div>

          <div id="forum-topics" class="space-y-4 md:space-y-6">
            <!-- Tópicos do fórum carregados via JS -->
          </div>
        </div>
      </section>
    </div>

    <!-- Seção de notícias -->
    <section class="parallax-section">
      <div class="container mx-auto px-4 max-w-6xl">
        <div class="parallax-content mb-6 md:mb-8">
          <h2 class="section-title text-2xl md:text-3xl lg:text-4xl">Últimas Notícias</h2>
          <div class="flex justify-center items-center mb-4">
            <a href="news.html" class="btn text-sm md:text-base px-3 py-1 md:px-4 md:py-2">
              Ver todas
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 md:h-5 md:w-5 ml-1 md:ml-2" viewBox="0 0 20 20"
                fill="currentColor">
                <path fill-rule="evenodd"
                  d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                  clip-rule="evenodd" />
              </svg>
            </a>
          </div>
        </div>

        <div class="news-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
          <!-- Cards de notícias carregados via JS -->
        </div>

      </div>
    </section>

    <footer class="text-center py-6 md:py-8 bg-opacity-90" style="background: var(--background);">
      <p class="font-light text-sm md:text-base">&copy; 2024 Animu. Todos os direitos reservados.</p>
    </footer>
  </div>

  <!-- Modal: Nova discussão -->
  <div id="new-topic-modal"
    class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-3 md:p-4">
    <div class="new-topic-modal relative w-full max-w-4xl max-h-[90vh] overflow-y-auto">
      <div class="modal-header flex items-center justify-between p-3 md:p-4">
        <div class="flex items-center gap-2 md:gap-3">
          <div class="modal-icon-wrapper">
            <svg class="w-6 h-6 md:w-8 md:h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z">
              </path>
            </svg>
          </div>
          <h3 class="modal-title text-xl md:text-2xl truncate">Iniciar Nova Discussão</h3>
        </div>
        <button id="close-modal-btn" class="modal-close hover:rotate-90 transition-transform">
          <svg class="w-5 h-5 md:w-6 md:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
            </path>
          </svg>
        </button>
      </div>

      <!-- Formulário de nova discussão -->
      <form id="new-topic-form" class="mt-4 md:mt-6 p-3 md:p-4">
        <div class="form-grid grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="form-group col-span-1 md:col-span-1">
            <label class="form-label text-sm md:text-base">Categoria</label>
            <div class="select-wrapper">
              <select id="topic-category" class="form-select text-sm md:text-base" required>
                <!-- Categorias carregadas via JS -->
              </select>
            </div>
          </div>

          <div class="form-group col-span-1 md:col-span-1">
            <label class="form-label text-sm md:text-base">Tags</label>
            <div class="input-wrapper">
              <input type="text" id="topic-tags" class="form-input text-sm md:text-base"
                placeholder="Ex: anime, discussão, opinião">
              <span class="input-icon">
                <svg class="w-4 h-4 md:w-5 md:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z">
                  </path>
                </svg>
              </span>
            </div>
          </div>

          <!-- Campo de título com contador de caracteres -->
          <div class="form-group col-span-1 md:col-span-2">
            <label class="form-label text-sm md:text-base">Título</label>
            <div class="input-wrapper">
              <input type="text" id="topic-title" class="form-input text-sm md:text-base"
                placeholder="Digite um título interessante" maxlength="100"
                oninput="updateCharCount(this, 'title-char-count')" required>
              <span class="input-icon">
                <svg class="w-4 h-4 md:w-5 md:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z">
                  </path>
                </svg>
              </span>
            </div>
            <small id="title-char-count" class="text-right block mt-1 text-xs md:text-sm">0/100</small>
          </div>

          <!-- Editor de conteúdo Quill com contador -->
          <div class="form-group col-span-1 md:col-span-2">
            <label class="form-label text-sm md:text-base">Conteúdo</label>
            <div class="input-wrapper">
              <div id="topic-content" class="h-48 md:h-64"></div>
            </div>
            <small id="content-char-count" class="text-right block mt-1 text-xs md:text-sm">0/2000</small>
          </div>
        </div>

        <!-- Botões de ação -->
        <div class="flex flex-col md:flex-row gap-3 mt-4 md:mt-6">
          <button type="button" id="cancel-topic-btn"
            class="btn btn-cancel order-2 md:order-1 flex-1 w-full py-2 md:py-2 text-sm md:text-base">
            <span class="flex items-center justify-center gap-1 md:gap-2">
              <svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
              Cancelar
            </span>
          </button>
          <button type="submit"
            class="btn btn-primary order-1 md:order-2 flex-1 w-full py-2 md:py-2 text-sm md:text-base">
            <span class="flex items-center justify-center gap-1 md:gap-2">
              <svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              Publicar Discussão
            </span>
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Scripts do Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
  <script src="src/js/db/firebase-config.js"></script>
  <script src="src/js/db/users-manager.js"></script>
  <script src="src/js/db/animes-manager.js"></script>

  <!-- Importa scripts -->
  <script src="src/js/ui/navbar.js"></script>
  <script src="src/js/ui/search.js"></script>
  <script src="src/js/mod/perspective-config.js"></script>
  <script src="src/js/mod/moderation.js"></script>
  <script src="src/js/index.js"></script>
  <script src="src/js/animu.js"></script>
  <script src="src/js/forum.js"></script>
</body>

</html>